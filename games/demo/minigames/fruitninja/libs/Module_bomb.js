(function(){var n=function(){this.scale-=.03,this.scale<0&&(this.scale=0,this.life=0)},t=function(){var t=particleSystem.createParticle(SPP.SpriteImage),i=1.414*assetsManager.bomb.width*.5-5,r=this.position.x+i*Math.cos(this.rotation-SPP.MathUtils.toRadian(90)),u=this.position.y+i*Math.sin(this.rotation-SPP.MathUtils.toRadian(90));t.init(r,u,Infinity,assetsManager.star,topContext),t.onUpdate=n,t.scale=.8,t.damp.reset(0,0),t.velocity.reset(0,-(1+Math.random()*1)),t.velocity.rotate(360*Math.random()),t.addForce("g",gravity)},i=function(){this.scale-=.02,this.scale<0&&(this.scale=0,this.life=0)},r=function(n){for(var t,r=0;r<150;r++)t=particleSystem.createParticle(SPP.SpriteImage),t.init(n.position.x,n.position.y,Infinity,assetsManager.star,topContext),t.onUpdate=i,t.scale=2,t.damp.reset(0,0),t.velocity.reset(0,-(3+Math.random()*7)),t.velocity.rotate(360*Math.random()),t.addForce("g",gravity);createjs.Sound.play("bombExplode")};throwBomb=function(){var n=bombSystem.createParticle(FruitGame.Fruit);n.velocity.reset(0,-(10+Math.random()*3)),n.velocity.rotate(8-Math.random()*16),n.damp.reset(0,0),n.addForce("g",gravity),n.onUpdate=t,n.init(gameWidth*.5+(1-Math.random()*2)*300,gameHeight+assetsManager.bomb.height,Infinity,assetsManager.bomb,assetsManager.shadow,middleContext),n.bottomY=gameHeight+assetsManager.bomb.height},cutBomb=function(n){r(n),n.life=0,gameOver()}})()